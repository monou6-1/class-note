<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <title>新規登録 - Class note</title>
  <link href="https://fonts.googleapis.com/css2?family=Kaisei+Opti:wght@400;700&family=Space+Mono&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Kaisei Opti', serif; text-align: center; padding: 50px; }
    h1 { font-family: 'Space Mono', monospace; }
    button { padding: 12px 24px; font-size: 16px; }
  </style>
</head>
<body>
  <h1>Class note</h1>
  <p>新規登録</p>
  <select id="name"><option>しおり</option></select>
  <input type="password" id="password" value="Password1234" />
  <button id="signup-btn">登録</button>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script>
    const supabase = supabase.createClient('https://anfzvvmewzawadrwqsjw.supabase.co/', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFuZnp2dm1ld3phd2Fkcndxc2p3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjAzMDQzNzYsImV4cCI6MjA3NTg4MDM3Nn0.YEyT-Uc41h0sPhNRkC_d-U18zp7F3uWtFaLBvC9J4SU');

    document.getElementById('signup-btn').addEventListener('click', async () => {
      alert('登録中...');
      const name = document.getElementById('name').value;
      const password = document.getElementById('password').value;
      const email = `${name}${Math.floor(Math.random() * 9000 + 1000)}@monou.com`;

      const { data, error } = await supabase.auth.signUp({ email, password });
      if (error) {
        alert('エラー: ' + error.message);
      } else {
        alert('登録成功！');
      }
    });
  </script>
</body>
</html>   
